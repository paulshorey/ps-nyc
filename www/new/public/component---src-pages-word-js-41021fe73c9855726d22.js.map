{"version":3,"sources":["webpack:///./src/containers/Word/Field.js","webpack:///./src/containers/Word/PosWord.js","webpack:///../name/modules/universal-common-scripts/functions/asort_strings/asort_by_length_and_position.js","webpack:///./src/containers/Word/Pos.js","webpack:///../name/modules/universal-common-scripts/functions/asort_strings/asort_by_length_asc.js","webpack:///./src/containers/Word/FieldList.js","webpack:///./src/containers/Word/ViewWord.styled.js","webpack:///./src/containers/Word/ViewWordResults.js","webpack:///./src/containers/Word/ViewWordHome.js","webpack:///./src/containers/Word/ViewWord.js","webpack:///./src/containers/Word/index.js","webpack:///./src/pages/word.js","webpack:///./src/components/Hint.js"],"names":["Field","render","this","props","row","field","undefined","label","value","className","style","maxWidth","React","Component","PosWord","word","api_actions","to","asort_by_length_and_position_asc__helper","a","b","a_length","length","b_length","fix_min_length","a_rating_length","min_length","delta_length","b_rating_length","arr_positions","min_position","delta_position","prefer_position","state","advanced","expand","pos","pos_dict","slist_pos","slist_better","Object","entries","map","tuple","info","filter","val","arr","ascending","asc","sort","toString","asort_by_length_asc","i","that","max_length","max_position","bind","e","console","error","asort_by_length_and_position","slist_shorter","short","w","key","log","ListShorter","ListBetter","ListOk","ListBad","ListProper","ListUnknown","Hint","onClick","setState","icon","faAngleUp","marginBottom","faEllipsisH","Array","isArray","transform","Styled","styled","div","word_input","word_chunks","best_of","best","all","faEdit","slice","Math","max","min","ceil","join","pi","pos1","pos2","ViewWord","ui_actions","RX__search_title","PageContent","ViewWordResults","ViewWordHome","Search","domains","title","placeholder","cue","connect","word_poss","poss","input_str","chunks","dispatch","bindActionCreators","RootIndex","Layout","location","Word","styles","display","lineHeight","fontSize","fontWeight","padding","margin","children"],"mappings":"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","file":"component---src-pages-word-js-41021fe73c9855726d22.js","sourcesContent":["import React from 'react'\n\nclass Field extends React.Component {\n  render() {\n    // validate\n    let { row, field } = this.props\n    if (!row || typeof row[field] === undefined) {\n      return <p>No {field}</p>\n    }\n    // filter\n    let label = field\n    let value = row[field]\n    if (field === 'ws_sentiment') {\n      label = 'sentiment'\n      value = value >= 0 ? '👍' : value === -1 ? '👎' : 'undefined'\n\n    }\n    // display\n    return (\n      <div className={'ui-form-fieldset'}>\n\t\t\t\t<div className={'label'}>\n\t\t\t\t\t{label}\n\t\t\t\t</div>\n\t\t\t\t<div className={'value'} style={{ maxWidth: 10000 }}>\n\t\t\t\t\t{value}\n\t\t\t\t</div>\n\t\t\t</div>\n    )\n  }\n}\n\nexport default Field\n","import React from 'react'\nimport { Menu } from 'antd'\nimport { Link } from 'gatsby'\n\nclass Definitions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      definitions: [],\n    }\n  }\n\n  componentDidMount() {\n    this.props.api_actions.definitions_list_get(this.props.word)\n      .then(defs => {\n        this.setState({\n          definitions: defs,\n        })\n      })\n  }\n\n  render() {\n    if (!this.state.definitions || !Array.isArray(this.state.definitions)) {\n      return null\n    }\n    let List = []\n    for (let def of this.state.definitions) {\n      List.push(<Menu.Item>{def}</Menu.Item>)\n    }\n    return (<Menu className={'antd-word-definitions-dropdown-menu'}>{List}</Menu>)\n  }\n}\n\nclass PosWord extends React.Component {\n  render() {\n    let { word, api_actions } = this.props\n    if (!word || word === ' ') {\n      return null\n    }\n    return (<>\n\t\t\t{/*<Dropdown overlay={<Definitions api_actions={api_actions} word={word}/>} trigger={['contextMenu']}>*/}\n      <span className={'posword'}>\n\t\t\t\t{/*{word},*/}\n        <Link to={`/word?word=${word}`} className=\"color-medium\">{word}</Link>,\n\t\t\t</span>\n      {/*</Dropdown>*/}\n\t\t</>)\n  }\n}\n\nexport default PosWord\n","import { asort_by_length_asc } from \"./index.js\";\n\n/**\n * Algorithm sort = by Length + by Position in array\n * @param arr {Array.<String>} - array of strings\n * @param prefer_position {number} - number to multiply position rating, to make it more important than length\n * @param fix_min_length {number} - absolute minimum allowed to be used as min_length (default 4)\n *      ex: if 4, algorithm will treat str.length of 2,3,4 the same\n * @return {Array.<String>} - array of strings\n */\nexport default function asort_by_length_and_position(arr, prefer_position = 10, fix_min_length = 0) {\n  if (!arr) return []\n  try {\n    // prepare ratings by length\n    let ascending = asort_by_length_asc([...arr]);\n    if (!ascending[0]) {\n      return arr;\n    }\n    // prepare ratings by position\n    let arr_positions = {};\n    for (let i in arr) {\n      let string = arr[i];\n      arr_positions[string] = i;\n    }\n    // compile ratings\n    // ${this} in [].sort()\n    let that = {\n      min_length: ascending[0].length,\n      max_length: ascending[ascending.length - 1].length,\n      min_position: 0,\n      max_position: arr.length,\n      delta_position: arr.length,\n      arr_positions: arr_positions,\n      prefer_position: prefer_position,\n    };\n    // ${this} fix & finish\n    if (fix_min_length) {\n      that.fix_min_length = fix_min_length;\n      that.min_length = fix_min_length;\n    }\n    that.delta_length = that.max_length - that.min_length;\n    // done\n    return arr.sort(asort_by_length_and_position_asc__helper.bind(that));\n  } catch (e) {\n    console.error('invalid input array to asort_by_length_and_position()');\n    return arr;\n  }\n};\n\n// helper function:\nfunction asort_by_length_and_position_asc__helper(a, b) {\n  // if length is less than absolute minimum, use absolute minimum\n  let a_length = a.length;\n  let b_length = b.length;\n  if (this.fix_min_length) {\n    if (a.length < this.fix_min_length) a_length = this.fix_min_length;\n    if (b.length < this.fix_min_length) b_length = this.fix_min_length\n  }\n  // lower number == good (prefer shorter words)\n  let a_rating_length = ((a_length - this.min_length) / this.delta_length);\n  let b_rating_length = ((b_length - this.min_length) / this.delta_length);\n  // lower number == good (lower index in array, so started closer to #1)\n  let a_position_length = ((this.arr_positions[a] - this.min_position) / this.delta_position) * this.prefer_position;\n  let b_position_length = ((this.arr_positions[b] - this.min_position) / this.delta_position) * this.prefer_position;\n  // combine the two\n  return (a_rating_length + a_position_length) - (b_rating_length + b_position_length);\n\n}","import React from 'react'\nimport Hint from 'src/components/Hint'\nimport PosWord from './PosWord'\nimport { faAngleUp, faEllipsisH } from '@fortawesome/pro-solid-svg-icons'\nimport { FontAwesomeIcon as FA } from '@fortawesome/react-fontawesome'\nimport { asort_by_length_and_position } from 'universal-common-scripts/functions/asort_strings'\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      advanced: props.expand || false,\n    }\n  }\n\n  render() {\n    let { pos, row, api_actions } = this.props\n    /*\n     * Validate\n     */\n    if (!pos || !row.pos_dict || !row.pos_dict[pos]) {\n      return null\n    }\n    let slist_pos = row.pos_dict[pos] || {}\n    let slist_better = Object.entries(slist_pos).map((tuple) => {\n      let [word, info] = tuple\n      if (info[0] === 1 && info[1] === 0) {\n        return word\n      }\n    }).filter(val => !!val)\n    slist_better = asort_by_length_and_position(slist_better, 1)\n    let slist_shorter = (row.short && row.short[pos] || []).filter(w => w !== row.key)\n    console.log('row', row)\n    /*\n     * Predefined lists of words\n     * info = [ 0-1 (bad-ok), 0-1 (ok-proper), 0-1 (ok-unknown) ]\n     * ok = [ 1, 0, 0 ]\n     */\n    let ListShorter = slist_shorter.map(word => (\n      <PosWord api_actions={api_actions} key={word} word={word} />\n    ))\n    let ListBetter = slist_better.map(word => (\n      <PosWord api_actions={api_actions} key={word} word={word} />\n    ))\n    let ListOk = Object.entries(slist_pos).map((tuple) => {\n      let [word, info] = tuple\n      if (info[0] === 1 && info[1] === 0) {\n        return (<PosWord api_actions={api_actions} key={word} word={word} />)\n      }\n    }).filter(val => !!val)\n    let ListBad = Object.entries(slist_pos).map((tuple) => {\n      let [word, info] = tuple\n      if (info[0] === 0 && info[1] === 0) {\n        return (<PosWord api_actions={api_actions} key={word} word={word} />)\n      }\n    }).filter(val => !!val)\n    let ListProper = Object.entries(slist_pos).map((tuple) => {\n      let [word, info] = tuple\n      if (info[1] === 1) {\n        return (<PosWord api_actions={api_actions} key={word} word={word} />)\n      }\n    }).filter(val => !!val)\n    let ListUnknown = Object.entries(slist_pos).map((tuple) => {\n      let [word, info] = tuple\n      if (info[2] === 1) {\n        return (<PosWord api_actions={api_actions} key={word} word={word} />)\n      }\n    }).filter(val => !!val)\n    /*\n     * Render simple version:\n     */\n    if (!this.state.advanced) {\n      return (\n        <div className={'ui-form-section simple'}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{ListOk.length > 0 && <>\n\t\t\t\t\t\t\t<div className={'one'}><b>{pos}: </b></div>\n              {ListShorter.length > 0 &&\n              <div className=\"two posWords opacity50\" style={{ marginBottom: 15 }}>{ListShorter}</div>\n              }\n              {ListBetter.length > 0 &&\n              <div className=\"two posWords opacity75\" style={{ marginBottom: 15 }}>{ListBetter}</div>\n              }\n              <div className=\"two posWords\">{ListOk}</div>\n\t\t\t\t\t\t</>}\n            <div\n              className={'three'}\n              onClick={() => {\n                this.setState({ advanced: true })\n              }}\n            >\n\t\t\t\t\t\t\t<FA icon={faEllipsisH} className=\"faEllipsisH\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n      )\n    } else {\n      /*\n       * Render advanced version:\n       */\n      if (!ListOk.length && !ListBad.length && !ListProper.length && !ListUnknown.length) {\n        return null\n      }\n      return (\n        <div className={'ui-form-section advanced'}>\n\t\t\t\t\t<p className={'one'}>\n\t\t\t\t\t\t<b className=\"title\">\n\t\t\t\t\t\t\t{pos}:\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className={'two'}>\n            {ListShorter.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#128512;</>}: </sub>*/}\n              <Hint className={'color-accent-deep opacity50'}>Shorter:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords opacity50\">{ListShorter}</span>\n\t\t\t\t\t\t</p>\n            }\n            {ListBetter.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#128512;</>}: </sub>*/}\n              <Hint className={'color-accent-deep opacity50'}>Better:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords opacity50\">{ListBetter}</span>\n\t\t\t\t\t\t</p>\n            }\n            {ListOk.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#128512;</>}: </sub>*/}\n              <Hint className={'color-accent-deep opacity50'}>Original:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords\">{ListOk}</span>\n\t\t\t\t\t\t</p>\n            }\n            {ListBad.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#128545;</>}: </sub>*/}\n              <Hint className={'color-bad opacity50'}>Negative:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords\">{ListBad}</span>\n\t\t\t\t\t\t</p>\n            }\n            {ListProper.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#127963;</>}: </sub>*/}\n              <Hint className={'color-light opacity75'}>Proper:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords\">{ListProper}</span>\n\t\t\t\t\t\t</p>\n            }\n            {ListUnknown.length > 0 &&\n            <p>\n\t\t\t\t\t\t\t{/*<sub>{<>&#10067;</>}: </sub>*/}\n              <Hint className={'color-light opacity75'}>Unknown sentiment:</Hint>\n\t\t\t\t\t\t\t<span className=\"posWords\">{ListUnknown}</span>\n\t\t\t\t\t\t</p>\n            }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p\n            className={'three'}\n            onClick={() => {\n              this.setState({ advanced: false })\n            }}\n          >\n\t\t\t\t\t\t<FA icon={faAngleUp} className=\"faAngleUp\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n      )\n    }\n  }\n}\n","/**\n * Sort array by string length, ascending (or descending with false flag)\n * @param arr {Array<String|Number|Array>}\n * @param asc {boolean} - if false, will sort descending; default is ascending\n * @returns {array}\n */\nexport default function asort_by_length_asc(arr, asc = true) {\n\tif (!asc) {\n\t\treturn arr.sort((a, b) => b.toString().length - a.toString().length);\n\t} else {\n\t\treturn arr.sort((a, b) => a.toString().length - b.toString().length);\n\t}\n};","import React from 'react'\nimport { Link } from 'gatsby'\nimport { faEllipsisH, faAngleUp } from '@fortawesome/pro-solid-svg-icons'\nimport { FontAwesomeIcon as FA } from '@fortawesome/react-fontawesome'\n// import Hint from \"src/components/Hint\";\n\nconst PosWord = ({ word }) => (\n  <span className=\"posword\">\n\t\t<Link to={`/word?word=${word}`}>{word}</Link>\n\t,</span>\n)\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      advanced: false,\n    }\n  }\n\n  render() {\n    let { field, row } = this.props\n    /*\n     * Validate\n     */\n    if (!field || !Array.isArray(row[field])) {\n      return null\n    }\n    /*\n     * Predefined lists of words\n     * info = [ 0-1 (bad-ok), 0-1 (ok-proper), 0-1 (ok-unknown) ]\n     * ok = [ 1, 0, 0 ]\n     */\n    let ListOk = row[field].map((word, i) => {\n      return (<PosWord word={word} key={word + i} />)\n    }).filter(val => !!val)\n    /*\n     * Render simple version:\n     */\n    if (!this.state.advanced) {\n      return (\n        <div className={'ui-form-section simple'}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{ListOk.length > 0 && <>\n\t\t\t\t\t\t\t<div className={'one'}><b>{field}: </b></div>\n\t\t\t\t\t\t\t<div className=\"two fieldWords\">{ListOk}</div>\n\t\t\t\t\t\t</>}\n            <div\n              className={'three'}\n              onClick={() => {\n                this.setState({ advanced: true })\n              }}\n            >\n\t\t\t\t\t\t\t<FA icon={faEllipsisH} className=\"faEllipsisH\" style={{ transform: 'scale(0.85)' }} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n      )\n    } else {\n      /*\n       * Render advanced version:\n       */\n      return (\n        <div className={'ui-form-section advanced'}>\n\t\t\t\t\t<p className={'one'}>\n\t\t\t\t\t\t<b className=\"title\">\n\t\t\t\t\t\t\t{field}:\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className={'two'}>\n\t\t\t\t\t\t{ListOk.length > 0 &&\n            <p className=\"fieldWords\">{ListOk}</p>\n            }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p\n            className={'three'}\n            onClick={() => {\n              this.setState({ advanced: false })\n            }}\n          >\n\t\t\t\t\t\t<FA icon={faAngleUp} className=\"faAngleUp\" style={{ transform: 'scale(0.85)' }} />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n      )\n    }\n  }\n}\n","import styled from 'styled-components'\n\nexport const Styled = styled.div`\n  font-size: 1.125rem;\n  position: relative;\n  padding-top: 0.75rem;\n  padding-bottom: 1rem;\n\n  .editWordLink {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    font-size: 2rem;\n    color: var(--color-subtle-deep);\n    z-index: 100;\n  }\n\n  .ui-form-section {\n    .one {\n    }\n    .two {\n    }\n    .three {\n      text-align: center;\n      cursor: pointer;\n      color: var(--color-subtle-deep);\n      white-space: nowrap;\n      font-size: 1.5rem;\n      margin: 1rem auto -1.5rem;\n      width: 5rem;\n\n      svg {\n        transform: scale(0.85);\n        display: inline-block;\n        top: -1rem;\n        position: relative;\n        background: var(--color-white);\n        padding: 0;\n      }\n    }\n    &.advanced {\n    }\n    &.simple {\n      .two {\n        position: relative;\n        white-space: nowrap;\n        overflow: hidden;\n        &:after {\n          content: '';\n          display: block;\n          position: absolute;\n          top: -0.5rem;\n          right: 0;\n          height: 2rem;\n          width: 60px;\n          background: linear-gradient(\n            to left,\n            var(--color-white) 0%,\n            transparent 100%\n          );\n        }\n      }\n    }\n  }\n\n  .posword {\n    padding: 0 0.5rem 0 0;\n    display: inline-block;\n    //cursor:pointer;\n    font-size: 1.125rem;\n    color: var(--color-medium);\n  }\n\n  .title {\n    font-size: 1.25rem;\n  }\n`\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport Field from './Field'\nimport Pos from './Pos'\nimport FieldList from './FieldList'\nimport { Styled } from './ViewWord.styled'\nimport { faEdit } from '@fortawesome/pro-solid-svg-icons'\nimport { FontAwesomeIcon as FA } from '@fortawesome/react-fontawesome'\n\nexport default function(props) {\n  /*\n   * User \"container\" state/props/methods!\n   * This \"child\" component is to simplify container's render() logic.\n   */\n  let that = props.that\n  let { word_input, word_chunks, api_actions } = that.props\n  if (word_input && (!word_chunks.length || !word_chunks[0].length || !word_chunks[0][0].key)) {\n    return (\n      <Styled className=\"ViewWord content\">\n        <p>Word not found</p>\n      </Styled>\n    )\n  }\n  let row = word_chunks[0][0]\n  let best_of = (row.best || {}).all\n\n  return (\n    <Styled className=\"ViewWord content\">\n\t\t\t\t{/*Edit*/}\n      <Link className={'editWordLink'} to={`/edit_word?word=${row.key}`}>\n\t\t\t\t\t<FA icon={faEdit} className=\"faEdit\" style={{ transform: 'scale(0.85)' }} />\n\t\t\t\t</Link>\n\n      {/* Best of */}\n      <div className={'ui-form-fieldset'}>\n\t\t\t\t<div className={'label'}>\n\t\t\t\t\tbest:\n\t\t\t\t</div>\n\t\t\t\t<div className={'value'} style={{ maxWidth: 10000 }}>\n\t\t\t\t\t{best_of && best_of.map ? best_of.slice(0, Math.max(Math.min(Math.ceil(best_of.length / 4), 15), 6)).join(', ') : best_of}\n\t\t\t\t</div>\n\t\t\t</div>\n\n      {/*Fields*/}\n      <div className={'ui-form-section ui-form-fieldset-grid'}>\n\t\t\t\t\t{[\n            'key',\n            'root',\n            'singular',\n            'plural',\n            'abbreviation',\n            'acronym',\n            'list_count',\n            'agg_sentiment',\n            'ws_sentiment',\n          ]\n            .filter(field => (row[field] || row[field] === 0))\n            .map((field, pi) => (\n              <Field field={field} row={row} key={row.key + pi} />\n            ))}\n\t\t\t\t</div>\n      {/*Lists*/}\n      <div className={'ui-form-section'}>\n\t\t\t\t\t{[row.pos1, row.pos2, 'before', 'after', 'etymology', 'etc'].map((pos, pi) => (\n            <Pos api_actions={api_actions} pos={pos} row={row} key={pos + pi} expand={false} />\n          ))}\n        {['ok_list', 'list', 'derivations'].map((field, pi) => (\n          <FieldList field={field} row={row} key={row.key + pi} />\n        ))}\n\t\t\t\t</div>\n\t\t\t</Styled>\n  )\n}\n","import React from 'react';\nimport { Styled } from './ViewWord.styled';\n\nexport default function (props) {\n  /*\n   * User \"container\" state/props/methods!\n   * This \"child\" component is to simplify container's render() logic.\n   */\n  let that = props.that;\n\n  return (\n    <Styled className=\"ViewWord content\">\n      <p>Try it out &#9757;</p>\n      <p>More info/functionality coming soon!</p>\n      <p>This service is in stealth mode! Under active development.</p>\n    </Styled>\n  );\n}\n","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport * as ui_actions from 'src/redux/actions/ui'\nimport api_actions from 'src/redux/actions/api'\nimport { StyledPage } from '../../components/Layout.styled'\nimport Search from '../../components/Search'\nimport ViewWordResults from './ViewWordResults'\nimport ViewWordHome from './ViewWordHome'\n\nclass ViewWord extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    props.ui_actions.RX__search_title('Thesaurus Search:')\n  }\n\n  render() {\n    //window.doneLoading('render')\n    let { word_chunks, word_input } = this.props\n    /*\n     * Verify content:\n     */\n    let PageContent = null\n    if (word_input) {\n      PageContent = <ViewWordResults that={this} />\n    } else {\n      PageContent = <ViewWordHome that={this} />\n    }\n    /*\n     * Render content:\n     */\n    return (\n      <>\n        <Search\n          {...this.props}\n          className={(!word_input || !word_chunks.length) ? 'Search SearchHome' : 'Search'}\n          domains={false}\n          title=\"Another word for...\"\n          placeholder=\"...\"\n          cue={[\n            <span key=\"1\">The most useful thesaurus <span className=\"color-accent u\">API</span>&nbsp;</span>,\n            <span key=\"2\">for <>N</>atural <>L</>anguage <>P</>rocessing applications.</span>,\n          ]}\n        />\n\t\t\t\t<StyledPage>{PageContent}</StyledPage>\n\t\t\t</>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    ui_actions: bindActionCreators(ui_actions, dispatch),\n    api_actions: bindActionCreators(api_actions, dispatch),\n  }\n}\n\nconst mapStateToProps = function(state) {\n  return {\n    word_poss: state.word.poss,\n    word_input: state.word.input_str,\n    word_chunks: state.word.chunks,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)((ViewWord))\n","import ViewWord from \"./ViewWord\";\n\nexport default ViewWord;\n","import React from 'react'\nimport Layout from '../components/Layout'\nimport Word from 'src/containers/Word'\n\nclass RootIndex extends React.Component {\n  render() {\n    return (\n      <Layout location={this.props.location}>\n        <Word location={this.props.location} />\n      </Layout>\n    )\n  }\n}\n\nexport default RootIndex","import React from 'react';\n\nconst styles = {\n\tHint: {\n\t\tdisplay: \"block\",\n\t\tlineHeight: \"1em\",\n\t\tfontSize: \"0.67em\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t}\n};\n\nexport default (props) => {\n\t// validate\n\tlet {style = {}, className = '', children} = props;\n\tif (!children) {\n\t\treturn null;\n\t}\n\t// display\n\treturn (\n\t\t<span className={className} style={{...styles.Hint, ...style}}>{children}</span>\n\t)\n};\n"],"sourceRoot":""}